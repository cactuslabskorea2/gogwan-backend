<!DOCTYPE html>
<html lang="ko">
<head>
    <script type="module" src="auth-check.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API ë° ì½˜ì†” ê´€ë¦¬ - GOGWAN Admin</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container { max-width: 1400px; margin: 0 auto; }
        .header {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        .header h1 { color: #667eea; font-size: 2.5em; margin-bottom: 10px; }
        .header p { color: #666; font-size: 1.1em; }
        .back-link {
            display: inline-block;
            margin-top: 10px;
            padding: 8px 16px;
            background: white;
            border: 2px solid #667eea;
            color: #667eea;
            text-decoration: none;
            border-radius: 8px;
            font-weight: 600;
        }
        .section {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        .section h2 {
            color: #333;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 3px solid #667eea;
            font-size: 1.5em;
        }
        .console-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .console-card {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 25px;
            border-radius: 15px;
            border: 2px solid #e0e0e0;
            transition: all 0.3s;
            cursor: pointer;
            text-decoration: none;
            color: inherit;
            display: block;
        }
        .console-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
            border-color: #667eea;
        }
        .console-card .icon {
            font-size: 2.5em;
            margin-bottom: 15px;
        }
        .console-card h3 {
            color: #333;
            margin-bottom: 10px;
            font-size: 1.2em;
        }
        .console-card p {
            color: #666;
            font-size: 0.95em;
            line-height: 1.5;
        }
        .console-card .link-label {
            margin-top: 15px;
            padding: 8px 15px;
            background: white;
            border-radius: 8px;
            font-size: 0.85em;
            color: #667eea;
            font-weight: 600;
            display: inline-block;
        }
        .api-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .api-section h2 {
            color: white;
            border-bottom-color: rgba(255,255,255,0.3);
        }
        .api-card {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255,255,255,0.2);
        }
        .api-card h3,
        .api-card p {
            color: white;
        }
        .api-card .link-label {
            background: rgba(255,255,255,0.2);
            color: white;
        }
        .api-card:hover {
            background: rgba(255,255,255,0.15);
            border-color: rgba(255,255,255,0.4);
        }
        .usage-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        .stat-box {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        .stat-box .value {
            font-size: 2em;
            font-weight: 700;
            margin: 10px 0;
        }
        .stat-box .label {
            font-size: 0.9em;
            opacity: 0.9;
        }
        .quick-actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        .action-btn {
            padding: 12px 24px;
            background: white;
            color: #667eea;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-block;
        }
        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .info-box {
            background: #e7f3ff;
            border-left: 4px solid #2563eb;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
        }
        .info-box p {
            color: #1e40af;
            margin: 0;
            font-size: 0.95em;
        }
        @media (max-width: 768px) {
            .console-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ”§ API ë° ì½˜ì†” ê´€ë¦¬</h1>
            <p>Gemini API, Firebase, Google Cloud í†µí•© ê´€ë¦¬</p>
            <a href="index.html" class="back-link">â† ê´€ë¦¬ì ë©”ì¸</a>
        </div>

        <!-- Gemini API ì„¹ì…˜ -->
        <div class="section api-section">
            <h2>ğŸ¤– Gemini API ê´€ë¦¬</h2>

            <div class="usage-stats">
                <div class="stat-box">
                    <div class="label">API ìƒíƒœ</div>
                    <div class="value" id="apiStatus">âœ“</div>
                    <div class="label">ì •ìƒ ì‘ë™</div>
                </div>
                <div class="stat-box">
                    <div class="label">ì˜¤ëŠ˜ ì‚¬ìš©ëŸ‰</div>
                    <div class="value" id="todayUsage">-</div>
                    <div class="label">ìš”ì²­ ìˆ˜</div>
                </div>
                <div class="stat-box">
                    <div class="label">ì´ë²ˆ ë‹¬</div>
                    <div class="value" id="monthUsage">-</div>
                    <div class="label">ì´ ìš”ì²­</div>
                </div>
            </div>

            <div class="console-grid" style="margin-top: 30px;">
                <a href="https://aistudio.google.com/app/apikey" target="_blank" class="console-card api-card">
                    <div class="icon">ğŸ”‘</div>
                    <h3>API Key ë°œê¸‰</h3>
                    <p>Gemini API í‚¤ë¥¼ ìƒì„±í•˜ê³  ê´€ë¦¬í•©ë‹ˆë‹¤</p>
                    <span class="link-label">Google AI Studio â†’</span>
                </a>

                <a href="https://console.cloud.google.com/apis/api/generativelanguage.googleapis.com/metrics?project=gogwan-e79bc" target="_blank" class="console-card api-card">
                    <div class="icon">ğŸ“Š</div>
                    <h3>ì‚¬ìš©ëŸ‰ í™•ì¸</h3>
                    <p>API ìš”ì²­ ìˆ˜ì™€ í• ë‹¹ëŸ‰ ë¦¬ë¯¸íŠ¸ë¥¼ í™•ì¸í•©ë‹ˆë‹¤</p>
                    <span class="link-label">Cloud Console â†’</span>
                </a>

                <a href="https://ai.google.dev/gemini-api/docs" target="_blank" class="console-card api-card">
                    <div class="icon">ğŸ“š</div>
                    <h3>API ë¬¸ì„œ</h3>
                    <p>Gemini API ì‚¬ìš©ë²•ê³¼ ì˜ˆì œë¥¼ í™•ì¸í•©ë‹ˆë‹¤</p>
                    <span class="link-label">ë¬¸ì„œ ë³´ê¸° â†’</span>
                </a>

                <a href="https://ai.google.dev/gemini-api/docs/models/gemini" target="_blank" class="console-card api-card">
                    <div class="icon">ğŸ§ </div>
                    <h3>ëª¨ë¸ ì •ë³´</h3>
                    <p>ì‚¬ìš© ê°€ëŠ¥í•œ Gemini ëª¨ë¸ê³¼ ìŠ¤í™ì„ í™•ì¸í•©ë‹ˆë‹¤</p>
                    <span class="link-label">ëª¨ë¸ ëª©ë¡ â†’</span>
                </a>
            </div>

            <div class="info-box" style="background: rgba(255,255,255,0.1); border-left-color: white;">
                <p style="color: white;">
                    ğŸ’¡ <strong>í˜„ì¬ ì‚¬ìš© ì¤‘ì¸ ëª¨ë¸:</strong> Gemini 1.5 Pro & Flash<br>
                    ğŸ“Œ <strong>ë°±ì—”ë“œ API ì—”ë“œí¬ì¸íŠ¸:</strong> Railway ë°°í¬ ì„œë²„
                </p>
            </div>
        </div>

        <!-- Firebase ì½˜ì†” -->
        <div class="section">
            <h2>ğŸ”¥ Firebase ì½˜ì†”</h2>

            <div class="console-grid">
                <a href="https://console.firebase.google.com/project/gogwan-e79bc/overview" target="_blank" class="console-card">
                    <div class="icon">ğŸ </div>
                    <h3>í”„ë¡œì íŠ¸ ê°œìš”</h3>
                    <p>Firebase í”„ë¡œì íŠ¸ì˜ ì „ì²´ í˜„í™©ì„ í™•ì¸í•©ë‹ˆë‹¤</p>
                    <span class="link-label">gogwan-e79bc â†’</span>
                </a>

                <a href="https://console.firebase.google.com/project/gogwan-e79bc/authentication/users" target="_blank" class="console-card">
                    <div class="icon">ğŸ‘¤</div>
                    <h3>Authentication</h3>
                    <p>ê´€ë¦¬ì ë° ì‚¬ìš©ì ì¸ì¦ì„ ê´€ë¦¬í•©ë‹ˆë‹¤</p>
                    <span class="link-label">ì‚¬ìš©ì ê´€ë¦¬ â†’</span>
                </a>

                <a href="https://console.firebase.google.com/project/gogwan-e79bc/firestore/databases/-default-/data" target="_blank" class="console-card">
                    <div class="icon">ğŸ’¾</div>
                    <h3>Firestore Database</h3>
                    <p>ë³´ë„ìë£Œ, ë¶„ì„ ë°ì´í„° ë“±ì„ ê´€ë¦¬í•©ë‹ˆë‹¤</p>
                    <span class="link-label">ë°ì´í„°ë² ì´ìŠ¤ â†’</span>
                </a>

                <a href="https://console.firebase.google.com/project/gogwan-e79bc/firestore/databases/-default-/rules" target="_blank" class="console-card">
                    <div class="icon">ğŸ›¡ï¸</div>
                    <h3>ë³´ì•ˆ ê·œì¹™</h3>
                    <p>Firestore ì½ê¸°/ì“°ê¸° ê¶Œí•œì„ ì„¤ì •í•©ë‹ˆë‹¤</p>
                    <span class="link-label">ê·œì¹™ í¸ì§‘ â†’</span>
                </a>

                <a href="https://console.firebase.google.com/project/gogwan-e79bc/storage" target="_blank" class="console-card">
                    <div class="icon">ğŸ“¦</div>
                    <h3>Storage</h3>
                    <p>ì´ë¯¸ì§€ ë° íŒŒì¼ì„ ì €ì¥í•˜ê³  ê´€ë¦¬í•©ë‹ˆë‹¤</p>
                    <span class="link-label">ìŠ¤í† ë¦¬ì§€ â†’</span>
                </a>

                <a href="https://console.firebase.google.com/project/gogwan-e79bc/functions" target="_blank" class="console-card">
                    <div class="icon">âš¡</div>
                    <h3>Cloud Functions</h3>
                    <p>ì„œë²„ë¦¬ìŠ¤ ë°±ì—”ë“œ í•¨ìˆ˜ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤</p>
                    <span class="link-label">í•¨ìˆ˜ ê´€ë¦¬ â†’</span>
                </a>

                <a href="https://console.firebase.google.com/project/gogwan-e79bc/usage" target="_blank" class="console-card">
                    <div class="icon">ğŸ“ˆ</div>
                    <h3>ì‚¬ìš©ëŸ‰ í†µê³„</h3>
                    <p>Firebase ì„œë¹„ìŠ¤ ì‚¬ìš©ëŸ‰ì„ í™•ì¸í•©ë‹ˆë‹¤</p>
                    <span class="link-label">í†µê³„ ë³´ê¸° â†’</span>
                </a>

                <a href="https://console.firebase.google.com/project/gogwan-e79bc/settings/general" target="_blank" class="console-card">
                    <div class="icon">âš™ï¸</div>
                    <h3>í”„ë¡œì íŠ¸ ì„¤ì •</h3>
                    <p>API í‚¤, ì•± ì„¤ì • ë“±ì„ ê´€ë¦¬í•©ë‹ˆë‹¤</p>
                    <span class="link-label">ì„¤ì • â†’</span>
                </a>
            </div>

            <div class="info-box">
                <p>
                    ğŸ’¡ <strong>í”„ë¡œì íŠ¸ ID:</strong> gogwan-e79bc<br>
                    ğŸ“Œ <strong>í˜„ì¬ í”Œëœ:</strong> Spark (ë¬´ë£Œ) - Blaze (ì¢…ëŸ‰ì œ)ë¡œ ì—…ê·¸ë ˆì´ë“œ ê°€ëŠ¥
                </p>
            </div>
        </div>

        <!-- Google Cloud ì½˜ì†” -->
        <div class="section">
            <h2>â˜ï¸ Google Cloud Console</h2>

            <div class="console-grid">
                <a href="https://console.cloud.google.com/home/dashboard?project=gogwan-e79bc" target="_blank" class="console-card">
                    <div class="icon">ğŸ </div>
                    <h3>ëŒ€ì‹œë³´ë“œ</h3>
                    <p>Google Cloud í”„ë¡œì íŠ¸ ì „ì²´ í˜„í™©</p>
                    <span class="link-label">ëŒ€ì‹œë³´ë“œ â†’</span>
                </a>

                <a href="https://console.cloud.google.com/apis/dashboard?project=gogwan-e79bc" target="_blank" class="console-card">
                    <div class="icon">ğŸ”Œ</div>
                    <h3>API ë° ì„œë¹„ìŠ¤</h3>
                    <p>ì‚¬ìš© ì¤‘ì¸ APIì™€ ì„œë¹„ìŠ¤ í‚¤ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤</p>
                    <span class="link-label">API ê´€ë¦¬ â†’</span>
                </a>

                <a href="https://console.cloud.google.com/apis/credentials?project=gogwan-e79bc" target="_blank" class="console-card">
                    <div class="icon">ğŸ”‘</div>
                    <h3>ì‚¬ìš©ì ì¸ì¦ ì •ë³´</h3>
                    <p>API í‚¤, OAuth, ì„œë¹„ìŠ¤ ê³„ì •ì„ ê´€ë¦¬í•©ë‹ˆë‹¤</p>
                    <span class="link-label">ì¸ì¦ ì •ë³´ â†’</span>
                </a>

                <a href="https://console.cloud.google.com/iam-admin/iam?project=gogwan-e79bc" target="_blank" class="console-card">
                    <div class="icon">ğŸ‘¥</div>
                    <h3>IAM ë° ê´€ë¦¬ì</h3>
                    <p>í”„ë¡œì íŠ¸ ê¶Œí•œê³¼ ì—­í• ì„ ì„¤ì •í•©ë‹ˆë‹¤</p>
                    <span class="link-label">ê¶Œí•œ ê´€ë¦¬ â†’</span>
                </a>

                <a href="https://console.cloud.google.com/billing?project=gogwan-e79bc" target="_blank" class="console-card">
                    <div class="icon">ğŸ’³</div>
                    <h3>ê²°ì œ</h3>
                    <p>ì‚¬ìš© ìš”ê¸ˆê³¼ ì˜ˆì‚°ì„ í™•ì¸í•©ë‹ˆë‹¤</p>
                    <span class="link-label">ê²°ì œ ì •ë³´ â†’</span>
                </a>

                <a href="https://console.cloud.google.com/monitoring?project=gogwan-e79bc" target="_blank" class="console-card">
                    <div class="icon">ğŸ“Š</div>
                    <h3>ëª¨ë‹ˆí„°ë§</h3>
                    <p>ì‹œìŠ¤í…œ ì„±ëŠ¥ê³¼ ë¡œê·¸ë¥¼ í™•ì¸í•©ë‹ˆë‹¤</p>
                    <span class="link-label">ëª¨ë‹ˆí„°ë§ â†’</span>
                </a>
            </div>
        </div>

        <!-- ë°°í¬ ê´€ë¦¬ -->
        <div class="section">
            <h2>ğŸš€ ë°°í¬ ë° í˜¸ìŠ¤íŒ…</h2>

            <div class="console-grid">
                <a href="https://app.netlify.com/sites/gorgeous-cocada-91bd09/overview" target="_blank" class="console-card">
                    <div class="icon">ğŸŒ</div>
                    <h3>Netlify Dashboard</h3>
                    <p>í”„ë¡ íŠ¸ì—”ë“œ ë°°í¬ ìƒíƒœ ë° ì„¤ì •</p>
                    <span class="link-label">cactuslabskorea.com â†’</span>
                </a>

                <a href="https://railway.app" target="_blank" class="console-card">
                    <div class="icon">ğŸš‚</div>
                    <h3>Railway Dashboard</h3>
                    <p>ë°±ì—”ë“œ API ì„œë²„ ê´€ë¦¬</p>
                    <span class="link-label">Backend API â†’</span>
                </a>

                <a href="https://github.com/cactuslabskorea2" target="_blank" class="console-card">
                    <div class="icon">ğŸ™</div>
                    <h3>GitHub Repository</h3>
                    <p>ì†ŒìŠ¤ ì½”ë“œ ì €ì¥ì†Œ</p>
                    <span class="link-label">GitHub â†’</span>
                </a>
            </div>
        </div>

        <!-- ë¹ ë¥¸ ì‘ì—… -->
        <div class="section">
            <h2>âš¡ ë¹ ë¥¸ ì‘ì—…</h2>

            <div class="quick-actions">
                <a href="https://console.firebase.google.com/project/gogwan-e79bc/firestore/databases/-default-/rules" target="_blank" class="action-btn">
                    ğŸ›¡ï¸ Firestore ê·œì¹™ ìˆ˜ì •
                </a>
                <a href="https://aistudio.google.com/app/apikey" target="_blank" class="action-btn">
                    ğŸ”‘ ìƒˆ API í‚¤ ìƒì„±
                </a>
                <a href="https://console.firebase.google.com/project/gogwan-e79bc/authentication/users" target="_blank" class="action-btn">
                    ğŸ‘¤ ì‚¬ìš©ì ì¶”ê°€
                </a>
                <a href="https://app.netlify.com/sites/gorgeous-cocada-91bd09/deploys" target="_blank" class="action-btn">
                    ğŸš€ ë°°í¬ ê¸°ë¡ ë³´ê¸°
                </a>
                <a href="https://console.cloud.google.com/apis/credentials?project=gogwan-e79bc" target="_blank" class="action-btn">
                    ğŸ” API í‚¤ ê´€ë¦¬
                </a>
            </div>

            <div class="info-box" style="margin-top: 20px;">
                <p>
                    ğŸ’¡ ëª¨ë“  ë§í¬ëŠ” ìƒˆ íƒ­ì—ì„œ ì—´ë¦½ë‹ˆë‹¤. ê° ì½˜ì†”ì— ë¡œê·¸ì¸ì´ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                </p>
            </div>
        </div>
    </div>

    <script type="module">
        // API ì‚¬ìš©ëŸ‰ í†µê³„ ë¡œë“œ (Firebase Analyticsì—ì„œ)
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getFirestore, collection, query, where, getDocs } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

        const firebaseConfig = {
            apiKey: "AIzaSyD-i5QR-MFeCLQtSMlIqXUhVuIzkJQBRhA",
            authDomain: "gogwan-e79bc.firebaseapp.com",
            projectId: "gogwan-e79bc",
            storageBucket: "gogwan-e79bc.firebasestorage.app",
            messagingSenderId: "241129624672",
            appId: "1:241129624672:web:920301c7f196322c761f05"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        async function loadAPIUsage() {
            try {
                // ì˜¤ëŠ˜ ì‚¬ìš©ëŸ‰
                const today = new Date();
                today.setHours(0, 0, 0, 0);

                const todayQuery = query(
                    collection(db, 'analytics_feature_usage'),
                    where('timestamp', '>=', today)
                );
                const todaySnapshot = await getDocs(todayQuery);
                document.getElementById('todayUsage').textContent = todaySnapshot.size;

                // ì´ë²ˆ ë‹¬ ì‚¬ìš©ëŸ‰
                const monthStart = new Date(today.getFullYear(), today.getMonth(), 1);
                const monthQuery = query(
                    collection(db, 'analytics_feature_usage'),
                    where('timestamp', '>=', monthStart)
                );
                const monthSnapshot = await getDocs(monthQuery);
                document.getElementById('monthUsage').textContent = monthSnapshot.size;

            } catch (error) {
                console.error('API usage load error:', error);
                document.getElementById('todayUsage').textContent = '-';
                document.getElementById('monthUsage').textContent = '-';
            }
        }

        loadAPIUsage();
    </script>
</body>
</html>
